@import "colors.css";

/* ── Base Font & Reset ──────────────────────────────────────────────── */
* {
    border: none;
    border-radius: 0;
    min-height: 0;
    font-family: "CaskaydiaCove Nerd Font Propo", "Roboto", monospace;
    font-size: 14px;
    font-weight: bold;
}

/* ── The Bar Itself ─────────────────────────────────────────────────── */
window#waybar {
    background-color: @surface_container_low; /* Dark background */
    color: @on_surface;
    border: 2px solid @outline;               /* The outer border */
    border-radius: 0;
    opacity: 0.95;
    transition-property: background-color;
    transition-duration: 0.5s;
}

/* ── Module Container Styling (The Boxy Look) ───────────────────────── */
/* This applies to almost all modules to give them the border box look */

#clock,
#custom-power,
#tray,
#niri-workspaces,
#custom-weather,
#cpu,
#memory,
#backlight,
#pulseaudio,
#battery,
#disk,
#power-profiles-daemon {
    background-color: @surface_container;
    border: 2px solid @primary;
    border-radius: 0;
    padding: 2px 10px;
    margin: 4px 3px; /* Creates the gap between modules */
    color: @on_surface;
    box-shadow: 1px 1px 2px rgba(0,0,0,0.3);
}

/* ── Hover Effects (The "PewDiePie" Glow) ───────────────────────────── */
#clock:hover,
#custom-power:hover,
#tray:hover,
#custom-weather:hover,
#cpu:hover,
#memory:hover,
#backlight:hover,
#pulseaudio:hover,
#battery:hover,
#disk:hover,
#power-profiles-daemon:hover {
    background-color: @surface_container_highest;
    border-color: @tertiary;
    color: @tertiary;
    transition: all 0.2s ease-in-out;
}

/* ── Specific Module Colors ─────────────────────────────────────────── */

/* Clock: Make it pop slightly */
#clock {
    color: @primary;
    border-color: @primary_container;
}

/* Workspaces: We style Niri buttons to look like separate boxes */
#workspaces {
    background-color: transparent; 
    border: none; /* Remove border from main container */
    padding: 0;
    margin: 0;
}

#workspaces button {
    background-color: @surface_container;
    color: @on_surface_variant;
    border: 2px solid @outline_variant;
    border-radius: 0;
    padding: 0 8px;
    margin: 4px 3px;
    min-width: 24px;
}

#workspaces button:hover {
    background-color: @surface_container_high;
    border-color: @primary;
    color: @primary;
    
    box-shadow: none;       /* Removes the white glow */
    text-shadow: none;      /* Removes text halo */
    background-image: none; /* Removes default gradients */
}

#workspaces button.active {
    background-color: @primary_container;
    color: @on_primary_container;
    border-color: @primary;
}

/* Battery States */
#battery.charging, #battery.plugged {
    color: @tertiary;
    border-color: @tertiary;
}

#battery.critical:not(.charging) {
    background-color: @error;
    color: @on_error;
    border-color: @error_container;
    animation-name: blink;
    animation-duration: 0.5s;
    animation-iteration-count: infinite;
    animation-direction: alternate;
}

/* Pulseaudio Muted */
#pulseaudio.muted {
    background-color: @error_container;
    color: @on_error_container;
    border-color: @error;
}

/* Power Button */
#custom-power {
    color: @error;
    border-color: @error;
}

/* Disk usage */
#disk {
    color: @secondary; 
    /* border-color: @secondary_container; */
}

/* Tray */
#tray {
    background-color: @surface_container_lowest;
    padding: 2px 8px;
}

/* ── Power Profiles Colors ──────────────────────────────────────────── */
#power-profiles-daemon.performance {
    color: @error;           /* Reddish for high power */
    border-color: @error;
}

#power-profiles-daemon.balanced {
    color: @primary;         /* Standard theme color */
    border-color: @primary;
}

#power-profiles-daemon.power-saver {
    color: @tertiary;        /* Greenish for eco mode */
    border-color: @tertiary;
}

/* ── Tooltips ───────────────────────────────────────────────────────── */
tooltip {
    background-color: @surface_container;
    border: 2px solid @primary;
    border-radius: 4px;
}

tooltip label {
    color: @on_surface;
}

@keyframes blink {
    to {
        background-color: @on_error;
        color: @error;
    }
}

