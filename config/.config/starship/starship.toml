# ==========================
# Global settings
# ==========================
add_newline = true        # blank line between commands? set to false if you hate it
command_timeout = 500     # ms, keep it small for potato PC
scan_timeout = 1000       # ms to scan current directory for git, etc.

# Two-line layout
format = """
$hostname$directory$git_branch$git_status$nodejs$python$rust$package$cmd_duration
$character"""

# When a command fails
[character]
success_symbol = "[❯](bold green)"
error_symbol = "[❯](bold red)"
vimcmd_symbol = "[❮](bold yellow)"

# ==========================
# Prompt core pieces
# ==========================

[hostname]
ssh_only = true           # only show on ssh
format = "[$hostname](bold purple) "
disabled = false

[directory]
truncation_length = 0     # 0 = never truncate
truncate_to_repo = false  # show full path even inside git repos
style = "bold cyan"
read_only = " "
format = "[$path]($style) "

[git_branch]
symbol = " "
style = "bold yellow"
format = "on [$symbol$branch]($style) "

[git_status]
style = "bold yellow"
format = "[$all_status$ahead_behind]($style) "
conflicted = " "
ahead = "⇡${count} "
behind = "⇣${count} "
diverged = "⇕${ahead_count}/${behind_count} "
untracked = "+${count} "
stashed = " "
modified = "~${count} "
staged = "✓${count} "
renamed = "»${count} "
deleted = "✗${count} "

[cmd_duration]
min_time = 2000           # show only if > 2s
format = "took [$duration]($style) "
style = "italic dimmed"

[time]
disabled = false
time_format = "%H:%M"
format = "[ $time]($style) "
style = "dimmed white"

# ==========================
# Language / runtime modules
# (shown only when relevant)
# ==========================

[nodejs]
symbol = " "
format = "via [$symbol$version]($style) "
style = "bold green"

[python]
symbol = " "
format = "via [$symbol$version]($style) "
style = "bold blue"
pyenv_version_name = true

[rust]
symbol = " "
format = "via [$symbol$version]($style) "
style = "bold red"

[package]
symbol = " "
format = "[$symbol$version]($style) "
style = "dimmed yellow"

# ==========================
# Performance: disable noise
# ==========================

# These are disabled to save CPU and avoid clutter.
[battery]
disabled = true

[gcloud]
disabled = true

[docker_context]
disabled = true

[kubernetes]
disabled = true

[aws]
disabled = true

# You can add others here as you discover them:
# [terraform] disabled = true
# [azure] disabled = true
